[gd_scene load_steps=25 format=3 uid="uid://d0ukfv0py0eas"]

[ext_resource type="Script" path="res://scripts/battle/base_scripts/base_battle.gd" id="1_le2iy"]
[ext_resource type="PackedScene" uid="uid://dufi5egwve2s1" path="res://scenes/battle/formations/formations/formation_1.tscn" id="2_vudjs"]
[ext_resource type="Script" path="res://tests/battle/battle_camera.gd" id="4_3guli"]
[ext_resource type="PackedScene" uid="uid://yh2b8tn2xy40" path="res://scenes/battle/characters/immunocytes/neutrophil/neutrophil.tscn" id="5_ogudq"]
[ext_resource type="PackedScene" uid="uid://bmcn4eh1lxac2" path="res://scenes/battle/characters/pathogens/influenza_virus/influenza_virus.tscn" id="6_5y3td"]
[ext_resource type="PackedScene" uid="uid://2xhg7u4igdrn" path="res://scenes/battle/characters/immunocytes/eosinophil/eosinophil.tscn" id="6_lhw0n"]
[ext_resource type="PackedScene" uid="uid://drjvp8wkafx0f" path="res://scenes/battle/battlefield/test_battle/Battlefield.tscn" id="6_yq6h7"]
[ext_resource type="PackedScene" uid="uid://dl8haap1scn22" path="res://tests/ui/action_switcher.tscn" id="7_g7w2u"]
[ext_resource type="PackedScene" uid="uid://jp6ysklein1c" path="res://scenes/battle/cards/cards/test_card_1.tscn" id="7_ps6e3"]
[ext_resource type="PackedScene" uid="uid://bjdros8jccxcd" path="res://scenes/ui/menu_ui/menu_pause.tscn" id="8_4dveh"]
[ext_resource type="Script" path="res://scripts/resources/character/deck_of_cards/deck_of_cards.gd" id="8_qxhiq"]
[ext_resource type="PackedScene" uid="uid://crenpfqy7iihc" path="res://scenes/battle/teams/ally_team.tscn" id="10_l2o1k"]
[ext_resource type="PackedScene" uid="uid://jsrso1l2r05v" path="res://scenes/battle/cards/cards/test_card_2.tscn" id="10_r1vvt"]
[ext_resource type="PackedScene" uid="uid://b24m6cbrpoww8" path="res://scenes/battle/cards/cards/test_card_3.tscn" id="12_4hram"]
[ext_resource type="PackedScene" uid="uid://c5864d4hwlkes" path="res://scenes/battle/teams/enemy_team.tscn" id="14_cyr26"]

[sub_resource type="ViewportTexture" id="ViewportTexture_lp0kw"]
viewport_path = NodePath("SubViewport")

[sub_resource type="Resource" id="Resource_cg4m2"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3")])

[sub_resource type="Resource" id="Resource_aqxm7"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3"), ExtResource("7_ps6e3")])

[sub_resource type="Resource" id="Resource_ys1a4"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt")])

[sub_resource type="Resource" id="Resource_trbgt"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt"), ExtResource("10_r1vvt")])

[sub_resource type="Resource" id="Resource_wacaa"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("12_4hram"), ExtResource("12_4hram"), ExtResource("12_4hram")])

[sub_resource type="Resource" id="Resource_cuisq"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("12_4hram"), ExtResource("12_4hram"), ExtResource("12_4hram")])

[sub_resource type="Resource" id="Resource_ark5e"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("12_4hram"), ExtResource("12_4hram"), ExtResource("12_4hram")])

[sub_resource type="Resource" id="Resource_ensrb"]
resource_local_to_scene = true
script = ExtResource("8_qxhiq")
_packed_cards = Array[PackedScene]([ExtResource("12_4hram"), ExtResource("12_4hram"), ExtResource("12_4hram")])

[node name="TestBattle2D" type="Node2D"]
script = ExtResource("1_le2iy")
_packed_formation = ExtResource("2_vudjs")
_packed_allies = [ExtResource("5_ogudq"), ExtResource("5_ogudq"), ExtResource("6_lhw0n"), ExtResource("6_lhw0n")]
_packed_enemies = [ExtResource("6_5y3td"), ExtResource("6_5y3td"), ExtResource("6_5y3td"), ExtResource("6_5y3td")]

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
size = Vector2i(1920, 1080)

[node name="BaseBattlefield" parent="SubViewport" instance=ExtResource("6_yq6h7")]

[node name="BattleCamera" type="Camera2D" parent="."]
offset = Vector2(960, 540)
position_smoothing_enabled = true
script = ExtResource("4_3guli")

[node name="Battlefield" type="Sprite2D" parent="."]
visible = false
texture = SubResource("ViewportTexture_lp0kw")
centered = false

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ActionSwitcher" parent="CanvasLayer" instance=ExtResource("7_g7w2u")]
visible = false

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("8_4dveh")]
visible = false

[node name="Teams" type="Node2D" parent="."]

[node name="AllyTeam" parent="Teams" instance=ExtResource("10_l2o1k")]

[node name="Neutrophil" parent="Teams/AllyTeam" instance=ExtResource("5_ogudq")]
deck_of_cards = SubResource("Resource_cg4m2")

[node name="Neutrophil2" parent="Teams/AllyTeam" instance=ExtResource("5_ogudq")]
deck_of_cards = SubResource("Resource_aqxm7")

[node name="Eosinophil" parent="Teams/AllyTeam" instance=ExtResource("6_lhw0n")]
deck_of_cards = SubResource("Resource_ys1a4")

[node name="Eosinophil2" parent="Teams/AllyTeam" instance=ExtResource("6_lhw0n")]
deck_of_cards = SubResource("Resource_trbgt")

[node name="EnemyTeam" parent="Teams" instance=ExtResource("14_cyr26")]

[node name="InfluenzaVirus" parent="Teams/EnemyTeam" instance=ExtResource("6_5y3td")]
deck_of_cards = SubResource("Resource_wacaa")

[node name="InfluenzaVirus2" parent="Teams/EnemyTeam" instance=ExtResource("6_5y3td")]
deck_of_cards = SubResource("Resource_cuisq")

[node name="InfluenzaVirus3" parent="Teams/EnemyTeam" instance=ExtResource("6_5y3td")]
deck_of_cards = SubResource("Resource_ark5e")

[node name="InfluenzaVirus4" parent="Teams/EnemyTeam" instance=ExtResource("6_5y3td")]
deck_of_cards = SubResource("Resource_ensrb")
